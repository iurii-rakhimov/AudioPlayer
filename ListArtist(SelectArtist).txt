// ListArtist(SelectArtist).txt 

HideObject("AddFolderMusicArtist")
HideObject("AddFolderText")

^indexCellListMusicArtist = GetIndexSelectCellTableView()
index = ^indexCellListMusicArtist
NameMusicArtist = ^ArrayAllMusic[index]
index = GetIndexStringInString(NameMusicArtist, '.mp3')
if index > 0
{
// —Ñ–∞–π–ª –¥–ª—è –ø—Ä–æ—Å–ª—É—à–∏–≤–∞–Ω–∏—è

	^NameMusicArtist = NameMusicArtist

	ScaleNew.Width = 1
	ScaleNew.text = ""

	strMessage = Dictionary("–ó–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è —Ç—Ä–µ–∫-–ñ–¥–∏—Ç–µ") + NameMusicArtist
	Artist.text = strMessage
	DoForm MusicArtist, wait=100, message=strMessage

	return
}
if ^Action == "Move"
{
// –ö–æ–ø–∏—Ä—É–µ–º –≤ –ø–∞–ø–∫—É
	strMessage1 = Dictionary("–ö–æ–ø–∏—Ä—É–µ–º –≤ –ø–∞–ø–∫—É")
	strMessage2 = Dictionary("–ù–∞–∂–º–∏")
	Artist.text = strMessage1 + " '" + NameMusicArtist + "' " + strMessage2 + " üÜó"
	^Folder = NameMusicArtist
	return
}

// —á–∏—Ç–∞–µ–º —Å–ø–∏—Å–æ–∫ —Ñ–∞–π–ª–æ–≤ –≤ –ø–∞–ø–∫–µ

^Folder = NameMusicArtist
Folder = ^Folder

DelimiterNewLine = IntToChar(10)
Path = GetPathDirectoryDocument()
Path = Path + Folder
^Path = Path
ListMusicArtist = GetListFilesFolder(Path)

^ArrayFilesFolderMusicArtist = Components(ListMusicArtist, DelimiterNewLine)

^ArrayFolderMusicArtist = CreateArrayContainingSubstring(^ArrayFilesFolderMusicArtist, 'mp3')
ArrayImageMusicArtist = CreateArrayContainingSubstring(^ArrayFilesFolderMusicArtist, 'jpeg')
^ArrayFolderMusicArtist = ^ArrayFolderMusicArtist + ArrayImageMusicArtist

CountElementsArrayFolderMusicArtist = CountElementsOfArray(^ArrayFolderMusicArtist)
if CountElementsArrayFolderMusicArtist == 1
{
	strMessage = Dictionary("–Ω–µ—Ç –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–π")
	strMessage = Folder + " - " + strMessage
	Artist.text = strMessage
}

Sort(^ArrayFolderMusicArtist, 'MinMax')

strMessage = Dictionary("–ñ–¥–∏—Ç–µ-–ó–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —Ç—Ä–µ–∫–∏")
Artist.text = strMessage
DoForm ListMusicArtist, wait=100, message=strMessage
